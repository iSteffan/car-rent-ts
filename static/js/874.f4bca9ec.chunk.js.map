{"version":3,"file":"static/js/874.f4bca9ec.chunk.js","mappings":"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","sources":["components/LoadMoreBtn/LoadMoreBtn.styled.ts","components/LoadMoreBtn/LoadMoreBtn.tsx","components/Loader/Loader.tsx","components/SearchForm/SearchForm.styled.ts","components/SearchForm/SearchForm.tsx","pages/Catalog.tsx","utils/findUniqueBrand.tsx","utils/extractRentalPricesInRange.tsx","utils/searchFilter.tsx"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const Btn = styled.button`\r\n  margin-top: 100px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  display: block;\r\n\r\n  color: #3470ff;\r\n  font-family: 'ManropeMedium';\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  line-height: 1.5;\r\n  text-decoration-line: underline;\r\n  border: none;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n\r\n  transition: color 250ms linear;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    color: #0b44cd;\r\n  }\r\n`;\r\n","import { Btn } from './LoadMoreBtn.styled';\r\n\r\ntype Props = { onClick: () => void };\r\n\r\nexport const LoadMoreBtn = ({ onClick }: Props) => {\r\n  return <Btn onClick={onClick}>Load more</Btn>;\r\n};\r\n","import { ThreeDots } from 'react-loader-spinner';\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <ThreeDots\r\n      height=\"80\"\r\n      width=\"80\"\r\n      radius=\"9\"\r\n      color=\"#4fa94d\"\r\n      ariaLabel=\"three-dots-loading\"\r\n      wrapperStyle={{ justifyContent: 'center' }}\r\n      wrapperClass=\"loader\"\r\n      visible={true}\r\n    />\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\nimport {\r\n  Form as FormikForm,\r\n  Field as FormikInput,\r\n  ErrorMessage as FormikErrorMessage,\r\n} from 'formik';\r\n\r\nexport const ErrorMessage = styled(FormikErrorMessage)`\r\n  position: absolute;\r\n  top: 49px;\r\n  left: 0;\r\n\r\n  font-size: 12px;\r\n  color: red;\r\n`;\r\n\r\nexport const ErrorMessageFieldFrom = styled(FormikErrorMessage)`\r\n  position: absolute;\r\n  top: 49px;\r\n  left: 0;\r\n  width: 160px;\r\n\r\n  font-size: 12px;\r\n  color: red;\r\n`;\r\n\r\nexport const ErrorMessageFieldTo = styled(FormikErrorMessage)`\r\n  position: absolute;\r\n  top: 49px;\r\n  left: 160px;\r\n  font-size: 12px;\r\n  color: red;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 18px;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  margin-bottom: 8px;\r\n\r\n  color: #8a8a89;\r\n  font-size: 14px;\r\n  line-height: 1.28;\r\n`;\r\n\r\nexport const Field = styled(FormikInput)`\r\n  padding: 14px 18px;\r\n\r\n  font-size: 18px;\r\n  line-height: 1.11;\r\n  border: none;\r\n  border-radius: 14px;\r\n  background: #f7f7fb;\r\n\r\n  &::placeholder {\r\n    color: #121417;\r\n  }\r\n`;\r\n\r\nexport const FieldMileageFrom = styled(FormikInput)`\r\n  padding: 14px 24px;\r\n\r\n  width: 160px;\r\n  font-size: 18px;\r\n  line-height: 1.11;\r\n  border: none;\r\n  border-bottom-left-radius: 14px;\r\n  border-top-left-radius: 14px;\r\n  border-right: 1px solid rgba(138, 138, 137, 0.2);\r\n\r\n  background: #f7f7fb;\r\n\r\n  &::placeholder {\r\n    color: #121417;\r\n  }\r\n`;\r\n\r\nexport const FieldMileageTo = styled(FormikInput)`\r\n  padding: 14px 24px;\r\n\r\n  width: 160px;\r\n  font-size: 18px;\r\n  line-height: 1.11;\r\n  border: none;\r\n  border-bottom-right-radius: 14px;\r\n  border-top-right-radius: 14px;\r\n  background: #f7f7fb;\r\n\r\n  &::placeholder {\r\n    color: #121417;\r\n  }\r\n`;\r\n\r\nexport const Form = styled(FormikForm)`\r\n  margin-bottom: 50px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\r\n  width: 858px;\r\n`;\r\n\r\nexport const BrandContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  width: 224px;\r\n`;\r\n\r\nexport const PriceContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  width: 125px;\r\n`;\r\n\r\nexport const Datalist = styled.datalist`\r\n  width: 224px;\r\n  height: 272px;\r\n  border-radius: 14px;\r\n  border: 1px solid rgba(18, 20, 23, 0.05);\r\n  background: #fff;\r\n  box-shadow: 0px 4px 36px 0px rgba(0, 0, 0, 0.02);\r\n`;\r\n\r\nexport const Btn = styled.button`\r\n  padding: 14px 44px;\r\n\r\n  height: 48px;\r\n  color: white;\r\n  font-family: 'ManropSemiBold';\r\n  font-size: 14px;\r\n  line-height: 1.42;\r\n  border: none;\r\n  border-radius: 12px;\r\n  background: #3470ff;\r\n\r\n  transition: background 250ms linear;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background: #0b44cd;\r\n  }\r\n`;\r\n\r\nexport const Fieldset = styled.fieldset`\r\n  margin: 0;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: none;\r\n`;\r\n\r\nexport const MileageBox = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n\r\n  width: 320px;\r\n`;\r\n","import { Formik } from 'formik';\r\nimport {\r\n  Label,\r\n  Form,\r\n  Field,\r\n  BrandContainer,\r\n  PriceContainer,\r\n  Datalist,\r\n  Container,\r\n  Btn,\r\n  Fieldset,\r\n  MileageBox,\r\n  FieldMileageFrom,\r\n  FieldMileageTo,\r\n  ErrorMessageFieldFrom,\r\n  ErrorMessageFieldTo,\r\n  ErrorMessage,\r\n} from './SearchForm.styled';\r\nimport * as Yup from 'yup';\r\nimport { SearchParams } from '../../App.types';\r\n\r\ntype Props = {\r\n  onSave: (values: SearchParams) => void;\r\n  data: string[] | unknown;\r\n  priceRange: string[];\r\n};\r\n\r\nconst FormSchema = Yup.object().shape({\r\n  make: Yup.string().required('Required field!'),\r\n  rentalPrice: Yup.number().positive('Must be > 0!').required('Required field!'),\r\n  fromMileage: Yup.number()\r\n    .positive('Must be > 0!')\r\n    .test('is-less-than-toMileage', 'From must be less than To', function (fromMileage) {\r\n      const toMileage = this.parent.toMileage;\r\n      if (fromMileage !== undefined) {\r\n        return fromMileage < toMileage;\r\n      }\r\n    })\r\n    .required('Required field!'),\r\n  toMileage: Yup.number()\r\n    .positive('Must be > 0!')\r\n    .test('is-greater-than-fromMileage', 'To must be greater than From', function (toMileage) {\r\n      const fromMileage = this.parent.fromMileage;\r\n      if (toMileage !== undefined) {\r\n        return toMileage > fromMileage;\r\n      }\r\n    })\r\n    .required('Required field!'),\r\n});\r\n\r\nexport const SearchForm: React.FC<Props> = ({ onSave, data, priceRange }) => {\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        make: '',\r\n        rentalPrice: '',\r\n        fromMileage: '',\r\n        toMileage: '',\r\n      }}\r\n      validationSchema={FormSchema}\r\n      onSubmit={(values, actions) => {\r\n        onSave({ ...values });\r\n        actions.resetForm();\r\n      }}\r\n    >\r\n      <Form>\r\n        <Container>\r\n          <BrandContainer>\r\n            <Label htmlFor=\"make\">Car brand</Label>\r\n            <Field name=\"make\" id=\"make\" list=\"carBrands\" placeholder=\"Enter the text\" />\r\n            <ErrorMessage name=\"make\" component=\"div\" />\r\n            <Datalist id=\"carBrands\" style={{ width: '224px', height: '272px' }}>\r\n              {Array.isArray(data)\r\n                ? data.map(option => <option key={option} value={option} />)\r\n                : null}\r\n            </Datalist>\r\n          </BrandContainer>\r\n          <PriceContainer>\r\n            <Label htmlFor=\"rentalPrice\">Price/ 1 hour</Label>\r\n            <Field name=\"rentalPrice\" id=\"rentalPrice\" list=\"priceRange\" placeholder=\"To $\" />\r\n            <ErrorMessage name=\"rentalPrice\" component=\"div\" />\r\n            <Datalist id=\"priceRange\" style={{ width: '224px', height: '272px' }}>\r\n              {priceRange.map(option => (\r\n                <option key={option} value={option} />\r\n              ))}\r\n            </Datalist>\r\n          </PriceContainer>\r\n          <Fieldset>\r\n            <Label htmlFor=\"fromMileage\">Сar mileage / km</Label>\r\n            <MileageBox>\r\n              <FieldMileageFrom name=\"fromMileage\" id=\"fromMileage\" placeholder=\"From\" />\r\n              <ErrorMessageFieldFrom name=\"fromMileage\" component=\"div\" />\r\n              <FieldMileageTo name=\"toMileage\" id=\"toMileage\" placeholder=\"To\" />\r\n              <ErrorMessageFieldTo name=\"toMileage\" component=\"div\" />\r\n            </MileageBox>\r\n          </Fieldset>\r\n          <Btn type=\"submit\">Search</Btn>\r\n        </Container>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchAdverts, fetchAdvertsPerPage, fetchAdvertsAmount } from '../redux/advertOperations';\r\nimport { selectAdverts, selectAmount, selectIsLoading, selectError } from '../redux/advertSlice';\r\nimport { CarCard } from '../components/CarCard/CarCard';\r\nimport { List, Container } from './Catalog.styled';\r\nimport { LoadMoreBtn } from '../components/LoadMoreBtn/LoadMoreBtn';\r\nimport { Loader } from '../components/Loader/Loader';\r\nimport { SearchForm } from '../components/SearchForm/SearchForm';\r\nimport { findUniqueBrand } from '../utils/findUniqueBrand';\r\nimport { extractRentalPricesInRange } from '../utils/extractRentalPricesInRange';\r\nimport { searchFilter } from '../utils/searchFilter';\r\nimport { SearchParams, ResponseData } from '../App.types';\r\nimport { AppDispatch } from '../redux/store';\r\n\r\nconst Catalog = () => {\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const [page, setPage] = useState(2);\r\n  const [filteredItems, setFilteredItems] = useState<null | ResponseData[]>(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAdverts());\r\n    dispatch(fetchAdvertsAmount());\r\n  }, [dispatch]);\r\n\r\n  const onLoadMoreClick = () => {\r\n    dispatch(fetchAdvertsPerPage(page));\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const error = useSelector(selectError);\r\n  const isLoading = useSelector(selectIsLoading);\r\n  const items = useSelector(selectAdverts);\r\n  const itemsAmount = useSelector(selectAmount);\r\n\r\n  const carModels = findUniqueBrand(itemsAmount);\r\n  const rentalPriceRange = extractRentalPricesInRange(itemsAmount);\r\n\r\n  const handleSearch = (searchParam: SearchParams) => {\r\n    const filteredCars = searchFilter(itemsAmount, searchParam);\r\n    setFilteredItems(filteredCars || null);\r\n  };\r\n\r\n  const renderItems = filteredItems ? filteredItems : items;\r\n\r\n  return (\r\n    <Container>\r\n      <SearchForm data={carModels} priceRange={rentalPriceRange} onSave={handleSearch} />\r\n\r\n      {isLoading && (\r\n        <div style={{ marginTop: '200px' }}>\r\n          <Loader />\r\n        </div>\r\n      )}\r\n\r\n      {filteredItems !== null && filteredItems.length === 0 ? (\r\n        <p style={{ textAlign: 'center' }}>\r\n          Your search parameters did not match any available cars.\r\n        </p>\r\n      ) : (\r\n        <List>\r\n          {renderItems.map(item => (\r\n            <CarCard key={item.id} item={item} />\r\n          ))}\r\n        </List>\r\n      )}\r\n\r\n      {!filteredItems && itemsAmount.length - items.length > 0 && (\r\n        <LoadMoreBtn onClick={onLoadMoreClick} />\r\n      )}\r\n\r\n      {error && <p>Oops, something wrong is going on...</p>}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n","import { ResponseData } from '../App.types';\r\n\r\nexport const findUniqueBrand = (inputArray: ResponseData[]): string[] | unknown => {\r\n  const uniqueMakes = new Set();\r\n\r\n  inputArray.forEach(item => {\r\n    uniqueMakes.add(item.make);\r\n  });\r\n\r\n  return Array.from(uniqueMakes);\r\n};\r\n","import { ResponseData } from '../App.types';\r\n\r\nexport const extractRentalPricesInRange = (array: ResponseData[]): string[] => {\r\n  // Спочатку ми створимо масив з усіма значеннями rentalPrice, видалимо \"$\" та перетворимо на числа.\r\n  const rentalPrices = array.map(item => parseInt(item.rentalPrice.replace('$', '')));\r\n\r\n  // Знайдемо максимальне значення rentalPrice.\r\n  const maxRentalPrice = Math.max(...rentalPrices);\r\n\r\n  // Створимо масив результатів, додаючи значення в проміжку від 10 до максимального значення з кроком в 10.\r\n  const result = [];\r\n  for (let i = 10; i <= maxRentalPrice; i += 10) {\r\n    result.push(i.toString()); // Перетворюємо числа на рядки\r\n  }\r\n\r\n  return result;\r\n};\r\n","import { ResponseData, SearchParams } from '../App.types';\r\n\r\nexport const searchFilter = (itemsAmount: ResponseData[], searchParam: SearchParams) => {\r\n  if (!searchParam) {\r\n    return;\r\n  }\r\n\r\n  const filteredCars = itemsAmount.filter(car => car.make === searchParam.make);\r\n\r\n  const targetRentalPrice = parseInt(searchParam.rentalPrice.replace('$', ''), 10);\r\n\r\n  const filteredByRentalPrice = filteredCars.filter(\r\n    car => parseInt(car.rentalPrice.replace('$', ''), 10) <= targetRentalPrice\r\n  );\r\n\r\n  const filteredByMileage = filteredByRentalPrice.filter(\r\n    car =>\r\n      car.mileage >= parseInt(searchParam.fromMileage, 10) &&\r\n      car.mileage <= parseInt(searchParam.toMileage, 10)\r\n  );\r\n\r\n  const sortedCars = filteredByMileage.sort((a, b) => a.mileage - b.mileage);\r\n\r\n  return sortedCars;\r\n};\r\n"],"names":["Btn","styled","button","_templateObject","_taggedTemplateLiteral","LoadMoreBtn","_ref","onClick","_jsx","children","Loader","ThreeDots","height","width","radius","color","ariaLabel","wrapperStyle","justifyContent","wrapperClass","visible","ErrorMessage","FormikErrorMessage","ErrorMessageFieldFrom","_templateObject2","ErrorMessageFieldTo","_templateObject3","Container","div","_templateObject4","Label","label","_templateObject5","Field","FormikInput","_templateObject6","FieldMileageFrom","_templateObject7","FieldMileageTo","_templateObject8","Form","FormikForm","_templateObject9","BrandContainer","_templateObject10","PriceContainer","_templateObject11","Datalist","datalist","_templateObject12","_templateObject13","Fieldset","fieldset","_templateObject14","MileageBox","_templateObject15","FormSchema","Yup","shape","make","required","rentalPrice","positive","fromMileage","test","toMileage","this","parent","undefined","SearchForm","onSave","data","priceRange","Formik","initialValues","validationSchema","onSubmit","values","actions","_objectSpread","resetForm","_jsxs","htmlFor","name","id","list","placeholder","component","style","Array","isArray","map","option","value","type","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","filteredItems","setFilteredItems","useEffect","fetchAdverts","fetchAdvertsAmount","error","useSelector","selectError","isLoading","selectIsLoading","items","selectAdverts","itemsAmount","selectAmount","carModels","inputArray","uniqueMakes","Set","forEach","item","add","from","findUniqueBrand","rentalPriceRange","array","rentalPrices","parseInt","replace","maxRentalPrice","Math","max","apply","_toConsumableArray","result","i","push","toString","extractRentalPricesInRange","renderItems","searchParam","filteredCars","filter","car","targetRentalPrice","mileage","sort","a","b","searchFilter","marginTop","length","textAlign","List","CarCard","fetchAdvertsPerPage","prevPage"],"sourceRoot":""}